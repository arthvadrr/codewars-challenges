/*
https://www.codewars.com/kata/56a1c63f3bc6827e13000006/train/javascript

This is a hard version of How many are smaller than me?. If you have troubles solving this one, have a look at the easier kata first.

Write

function smaller(arr)

that given an array arr, you have to return the amount of numbers that are smaller than arr[i] to the right.

For example:

smaller([5, 4, 3, 2, 1]) === [4, 3, 2, 1, 0]
smaller([1, 2, 0]) === [1, 1, 0]
*/

const smaller = a => {
  const result = Array.from({length: a.length})
  const objArr = a.map((e, i) => [i, e]);
  const sorted = objArr.sort((a, b) => b[1] - a[1]);

  let i = 0;
  let l = a.length;

  while (i < l) {
    result[i] = l - sorted[i][0];
    i++;
  }

  console.log(result);
  return result;
}

const bigarr = [12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541,2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541,2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541, 2941, 489, 23, -19, 29850, 293, 2018, 1219, 483, 219,12323, 542, 2905, 24, 29541,];
console.time('small');
smaller(bigarr);
console.timeEnd('small');